<% content_for :head do %>
  <!-- Additional Schema.org structured data for this page -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebPage",
    "speakable": {
      "@type": "SpeakableSpecification",
      "cssSelector": [".hero-title", ".hero-slogan", ".hero-subtitle"]
    },
    "mainEntity": {
      "@type": "SoftwareApplication",
      "name": "DBViewer",
      "applicationCategory": "DeveloperApplication",
      "applicationSubCategory": "DatabaseTools",
      "operatingSystem": "Web",
      "description": "DBViewer is built for developer happiness, making database exploration simple and enjoyable. Crafted with the Rails philosophy in mind for a joyful development experience.",
      "keywords": "developer happiness, Rails tools, database visualization, database explorer, developer experience, SQL viewer",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "aggregateRating": {
        "@type": "AggregateRating",
        "ratingValue": "5",
        "reviewCount": "10"
      },
      "featureList": "Developer Happiness, Intuitive Database Visualization, Simple Data Exploration, Schema Information, ERD, SQL Queries, Multiple DB Connections, PII Data Masking"
    }
  }
  </script>
<% end %>

<% content_for :title, "DBViewer - The fastest way to visualize and explore your database" %>
<% content_for :meta_description, "DBViewer is built for developer happiness, making database exploration simple and enjoyable. View your database structure and data with PII protection and an intuitive interface that follows Rails conventions." %>

<div class="landing-container">
  <section class="hero-section">
    <div class="hero-content">
      <div class="hero-badge">
        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="#5868E0" aria-hidden="true" role="img">
          <title>Information icon</title>
          <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-1-13h2v6h-2zm0 8h2v2h-2z"/>
        </svg>
        <span>Open Source Rails Engine</span>
      </div>
      <h1 class="hero-title">üëÅÔ∏è DBViewer</h1>
      <p class="hero-slogan">The fastest way to visualize and explore your database</p>
      <p class="hero-subtitle">
        DBViewer is built for developer happiness,
        making it effortless to explore and understand your data structure. Simple, intuitive, and enjoyable
        to use ‚Äî because database tools should bring joy, not frustration.
      </p>
      <div class="hero-stats">
        <div class="stat-item">
          <div class="stat-number">10+</div>
          <div class="stat-label">Key Features</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">100%</div>
          <div class="stat-label">Read-Only</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">Multiple</div>
          <div class="stat-label">Databases</div>
        </div>
      </div>
      <div class="hero-actions">
        <%= link_to "Try Live Demo", dbviewer_path, class: "hero-cta primary" %>
        <a href="#installation" class="hero-cta secondary">Quick Setup</a>
      </div>
    </div>
  </section>

  <section class="features-section">
    <h2 class="section-title">‚ú® Key Features</h2>
    <div class="features-grid">
      <div class="feature-card">
        <div class="feature-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="#5868E0">
            <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
          </svg>
        </div>
        <h3 class="feature-title">Interactive Dashboard</h3>
        <p class="feature-description">
          Comprehensive overview with database statistics, analytics, and quick access to all tables and relationships.
        </p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="#5868E0">
            <path d="M3 3h18v18H3V3zm16 16V7H5v12h14zM11 9h6v2h-6V9zm-4 0h2v2H7V9zm0 4h10v2H7v-2z"/>
          </svg>
        </div>
        <h3 class="feature-title">SQL Query Editor</h3>
        <p class="feature-description">
          Write and execute SQL queries with syntax highlighting, auto-completion, and paginated results display.
        </p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="#5868E0">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
          </svg>
        </div>
        <h3 class="feature-title">Schema Browser</h3>
        <p class="feature-description">
          Navigate your database schema visually. Explore tables, columns, relationships, and indexes without writing SQL.
        </p>
      </div>

      <div class="feature-card">
        <div class="feature-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="#5868E0">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/>
          </svg>
        </div>
        <h3 class="feature-title">Entity Relationship Diagrams</h3>
        <p class="feature-description">
          Interactive ERD visualization showing table relationships, foreign keys, and database structure at a glance.
        </p>
      </div>
      
      <div class="feature-card">
        <div class="feature-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="#5868E0">
            <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"/>
          </svg>
        </div>
        <h3 class="feature-title">Secure & Production Ready</h3>
        <p class="feature-description">
          Read-only operations, HTTP Basic Authentication, SQL injection protection, and query logging with audit trails.
        </p>
      </div>

      <div class="feature-card">
        <div class="feature-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="#5868E0">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-1-1h2v6h-2zm0 8h2v2h-2z M1 12l2-2 2 2-2 2z M21 12l-2-2-2 2 2 2z"/>
          </svg>
        </div>
        <h3 class="feature-title">PII Data Masking</h3>
        <p class="feature-description">
          Protect sensitive data with configurable masking rules. Automatically mask emails, phone numbers, SSNs, and custom fields while preserving data structure for development.
        </p>
      </div>

      <div class="feature-card">
        <div class="feature-icon">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="#5868E0">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
          </svg>
        </div>
        <h3 class="feature-title">Multiple Database Support</h3>
        <p class="feature-description">
          Connect to multiple databases simultaneously, switch between connections, and manage different database environments.
        </p>
      </div>
    </div>
  </section>

  <section id="installation" class="installation-section">
    <h2 class="section-title">üöÄ Quick Installation</h2>
    <p class="section-subtitle">
      Get DBViewer up and running in your Rails application in just a few steps.
    </p>
    
    <div class="installation-steps">
      <div class="step-card">
        <div class="step-number">1</div>
        <div class="step-content">
          <h3>Add to Gemfile</h3>
          <p>Add DBViewer to your application's Gemfile:</p>
          <div class="code-block">
            <div class="code-header">
              <span class="code-language">ruby</span>
              <button class="copy-btn" onclick="copyToClipboard('step1-code')">Copy</button>
            </div>
            <pre id="step1-code"><code>gem "dbviewer"</code></pre>
          </div>
        </div>
      </div>

      <div class="step-card">
        <div class="step-number">2</div>
        <div class="step-content">
          <h3>Install Dependencies</h3>
          <p>Run bundle to install the gem:</p>
          <div class="code-block">
            <div class="code-header">
              <span class="code-language">bash</span>
              <button class="copy-btn" onclick="copyToClipboard('step2-code')">Copy</button>
            </div>
            <pre id="step2-code"><code>bundle install</code></pre>
          </div>
        </div>
      </div>

      <div class="step-card">
        <div class="step-number">3</div>
        <div class="step-content">
          <h3>Mount the Engine</h3>
          <p>Add the engine to your routes file:</p>
          <div class="code-block">
            <div class="code-header">
              <span class="code-language">ruby</span>
              <button class="copy-btn" onclick="copyToClipboard('step3-code')">Copy</button>
            </div>
            <pre id="step3-code"><code>Rails.application.routes.draw do
  # Your application routes...

  # Mount the DBViewer engine
  mount Dbviewer::Engine, at: "/dbviewer"
end</code></pre>
          </div>
        </div>
      </div>

      <div class="step-card">
        <div class="step-number">4</div>
        <div class="step-content">
          <h3>Configure (Optional)</h3>
          <p>Generate configuration file for customization:</p>
          <div class="code-block">
            <div class="code-header">
              <span class="code-language">bash</span>
              <button class="copy-btn" onclick="copyToClipboard('step4-code')">Copy</button>
            </div>
            <pre id="step4-code"><code>rails generate dbviewer:install</code></pre>
          </div>
        </div>
      </div>
    </div>

    <div class="advanced-config">
      <h3>üîß Advanced Configuration</h3>
      <p>Customize DBViewer with the generated configuration file:</p>
      <div class="code-block">
        <div class="code-header">
          <span class="code-language">ruby</span>
          <button class="copy-btn" onclick="copyToClipboard('config-code')">Copy</button>
        </div>
        <pre id="config-code"><code># config/initializers/dbviewer.rb
Dbviewer.configure do |config|
  # Datatable Pagination Settings
  config.per_page_options = [ 10, 20, 50, 100, 250 ] # Default pagination options
  config.default_per_page = 50                       # Default records per page

  # SQL Query Settings
  config.max_query_length = 10000                    # Maximum SQL query length
  config.cache_expiry = 300                          # Cache expiration in seconds
  config.max_records = 10000                         # Maximum records to display
  config.query_timeout = 30                          # SQL query timeout in seconds

  # Export Options
  config.enable_data_export = false                  # Whether to allow data exporting

  # Query Logging options (Disabled by default on Non Development Environments)
  config.enable_query_logging = true                 
  config.query_logging_mode = :file                  
  config.query_log_path = "log/dbviewer.log"         
  config.max_memory_queries = 1000                   
  
  # Basic Authentication (Recommended for production)
  config.admin_credentials = {
    username: "admin",
    password: "your_secure_password"
  }
  
  # Multiple Database Support
  config.database_connections = {
    primary: {
      connection_class: "ActiveRecord::Base",
      name: "Primary Database"
    },
    secondary: {
      connection_class: "SecondaryBaseModel",
      name: "Secondary Database (Blog)"
    }
  }
  config.current_connection = :primary
end</code></pre>
      </div>
    </div>

    <div class="advanced-config">
      <h3>üîê PII Data Masking Configuration</h3>
      <p>Protect sensitive data with configurable masking rules:</p>
      <div class="code-block">
        <div class="code-header">
          <span class="code-language">ruby</span>
          <button class="copy-btn" onclick="copyToClipboard('pii-config-code')">Copy</button>
        </div>
        <pre id="pii-config-code"><code># config/initializers/dbviewer.rb
Dbviewer.configure do |config|
  config.enable_pii_masking = true                   # Enable PII masking (default: true)
end

# Define PII masking rules
Dbviewer.configure_pii do |pii|
  # Built-in masking types
  pii.mask 'users.email', with: :email              # john@example.com ‚Üí jo***@example.com
  pii.mask 'users.phone', with: :phone              # +1234567890 ‚Üí +1***90
  pii.mask 'users.ssn', with: :ssn                  # 123456789 ‚Üí ***-**-6789
  pii.mask 'payments.card_number', with: :credit_card # 1234567890123456 ‚Üí ****-****-****-3456
  pii.mask 'users.api_key', with: :full_redact      # any_value ‚Üí ***REDACTED***

  # Custom masking with lambda
  pii.mask 'users.salary', with: ->(value) { value ? '$***,***' : value }

  # Define reusable custom masks
  pii.custom_mask :ip_mask, ->(value) {
    return value if value.nil?
    parts = value.split('.')
    "#{parts[0]}.#{parts[1]}.***.***.***"
  }
  pii.mask 'logs.ip_address', with: :ip_mask
end</code></pre>
      </div>
    </div>
  </section>

  <section class="demo-section">
    <h2 class="section-title">‚ú® Try the Live Demo</h2>
    <p class="hero-subtitle" style="margin-bottom: 30px;">
      Experience DBViewer's full capabilities with our interactive demo featuring real sample data.
    </p>
    <%= link_to "Access Live Demo", dbviewer_path, class: "demo-cta" %>
  </section>

  <section class="github-section">
    <h2 class="section-title">üìñ Open Source & Documentation</h2>
    <p class="section-subtitle">
      DBViewer is completely open source. Explore the code, contribute to the project,
      or deploy it in your own applications with full documentation and examples.
    </p>
    <div class="github-stats">
      <div class="github-stat">
        <span class="stat-icon">‚≠ê</span>
        <span class="stat-text">MIT Licensed</span>
      </div>
      <div class="github-stat">
        <span class="stat-icon">üöÄ</span>
        <span class="stat-text">Production Ready</span>
      </div>
      <div class="github-stat">
        <span class="stat-icon">üîí</span>
        <span class="stat-text">Security Focused</span>
      </div>
    </div>
    <div class="github-links">
      <a href="https://github.com/WailanTirajoh/dbviewer-demo" target="_blank" class="github-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
        </svg>
        <div class="link-content">
          <div class="link-title">Demo Application</div>
          <div class="link-description">Complete Rails app with DBViewer integration</div>
        </div>
      </a>
      <a href="https://github.com/WailanTirajoh/dbviewer" target="_blank" class="github-link">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
        </svg>
        <div class="link-content">
          <div class="link-title">DBViewer Ruby Gem</div>
          <div class="link-description">Core engine source code and documentation</div>
        </div>
      </a>
    </div>
  </section>

  </div>
  
  <footer class="footer">
    <p>&copy; <%= Date.today.year %> DB Viewer Demo | A secure, interactive database explorer</p>
  </footer>
